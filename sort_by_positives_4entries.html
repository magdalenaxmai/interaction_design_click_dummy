<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Debit Manager - Home</title>
    <meta name="description" content="Website to track your debts.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="referrer" content="same-origin">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="stylesheet" href="./css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
        crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>

    <header>
        <div class="topnav">
            <div class="profile_menu">
                <a href="./profile.html">Magdalena Maislinger</a>
            </div>
            <div class="contacts">
                <a href="contacts.html">Contacts</a>
            </div>
            <div class="logout">
                <a href="./index.html">Logout</a>
            </div>
        </div>
        <div class="payment">
            <div class="your_payments"><i class="fas fa-euro-sign"></i>Your Payments</a></div>
            <form action="#">
                <button class="addPayment"><a href="#">+</a></button>
            </form>

        </div>
    </header>

    <div class="content">
        <div class="top-bar">
            <form class="search">
                <i class="fas fa-search"></i>
                <label for="search">Search</label>
                <input id="searchinput" type="text">
            </form>
            <div class="balance">
                Your Balance: <span class="amount" id="amount">+50,60€</span>
            </div>
            <div class="Filter dropdown">
                Filter
                <button class="dropbtn"><i class="fas fa-caret-down"></i></button>
                <div class="dropdown-content">
                    <a href="./sort_by_negatives_4entries.html">By negatives</a>
                    <a href="./sort_by_positives_4entries.html">By positives</a>
                </div>
            </div>
        </div>
        <div class="all_categories">
            <div class="categories">
                <div class="payment_owner">
                    <span class="payment_owner" style="text-transform: uppercase;">Name</span>
                </div>
                <div class="description">
                    <span class="description" style="text-transform: uppercase;">Description</span>
                </div>
                <div class="payment_amount">
                    <span class="payment_amount_categorie">Amount</span>
                </div>
                <div class="status">
                    <span class="status" style="text-transform: uppercase;">Status</span>
                </div>
                <div>
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>
        </div>
        <div class="all_payments">
            <ul class="list_of_payments" id="list">
                <li class="payment_list_item">
                    <a class="link_to_payment" href="./payment_1.html">
                        <div class="payment_owner">
                            <img class="avatar" src="images/p1.jpeg" alt="Profilbild von Freund">
                            <span class="name">Johanna Repp</span>
                        </div>
                        <span class="description">Pizza</span>
                        <span class="payment_amount payment_amount_positive" id="amount1" value="20">+20.00€</span>
                        <div class="status">not paid</div>
                    </a>
                    <div class="dropdown">
                        <button class="dropbtn"> <i class="fas fa-ellipsis-v"></i></button>
                        <div class="dropdown-content">
                            <a href="payment_1.html">Send Message</a>
                            <a href="payment_1_edit.html">Edit</a>
                            <a href="#" class="clear">Delete</a>
                        </div>
                    </div>

                </li>
                <li class="payment_list_item">
                    <a class="link_to_payment" href="./payment_3.html">
                        <div class="payment_owner">
                            <img class="avatar" src="images/p4.jpeg" alt="Profilbild von Freund">
                            <span class="name">Eva Strumegger</span>
                        </div>
                        <span class="description">Pizza</span>
                        <span class="payment_amount payment_amount_positive" id="amount2" value="30.60">+30.60€</span>
                        <div class="status">not paid</div>
                    </a>
                        <div class="dropdown">
                            <button class="dropbtn"> <i class="fas fa-ellipsis-v"></i></button>
                            <div class="dropdown-content">
                                <a href="#">Send Message</a>
                                <a href="#">Edit</a>
                                <a href="#" class="clear">Delete</a>
                            </div>
                        </div>
                </li>
                <li class="payment_list_item">
                    <a class="link_to_payment" href="./payment_4.html">
                        <div class="payment_owner">
                            <img class="avatar" src="images/p6.jpeg" alt="Profilbild von Freund">
                            <span class="name">Nicolas Zeller</span>
                        </div>
                        <span class="description">Kino</span>
                        <span class="payment_amount payment_amount_positive" id="amount4" value="15.20">+15.20€</span>
                        <div class="status">not paid</div>
                    </a>
                        <div class="dropdown">
                            <button class="dropbtn"> <i class="fas fa-ellipsis-v"></i></button>
                            <div class="dropdown-content">
                                <a href="payment_4.html">Send Message</a>
                                <a href="payment4_edit.html">Edit</a>
                                <a href="#" class="clear">Delete</a>
                            </div>
                        </div>
                    
                </li>
                <li class="payment_list_item">
                        <a class="link_to_payment" href="./payment_2.html">
                            <div class="payment_owner">
                                <img class="avatar" src="images/p2.jpeg" alt="Profilbild von Freund">
                                <span class="name">Luca Pircher</span>
                            </div>
                            <span class="description">Pizza</span>
                            <span class="payment_amount payment_amount_negative" id="amount3" value="-20">-20.00€</span>
                            <div class="status">paid</div>
                        </a>
                        <div class="dropdown">
                            <button class="dropbtn"> <i class="fas fa-ellipsis-v"></i></button>
                            <div class="dropdown-content">
                                <a href="#">Pay via PayPal</a>
                                <a href="#">Edit </a>
                                <a href="#" class="clear">Delete</a>
                            </div>
                        </div>
    
                    </li>
            </ul>
        </div>
    </div>
    <footer class="footer">
        <a href="./impressum.html">Impressum</a>
    </footer>
</body>
<script>
    getBalance();

    $("#list a.clear").click(function () {
        $(this).parent().parent().parent().remove();
        getBalance();
        return false;
    });

    function getBalance() {

        let value1 = 0;
        let value2 = 0;
        let value3 = 0;
        let value4 = 0;
        let balance_field = document.getElementById('amount');
        let new_balance;

        if (document.getElementById('amount1') != null) {
            value1 = parseFloat(document.getElementById('amount1').getAttribute('value'));
        }

        if (document.getElementById('amount2') != null) {
            value2 = parseFloat(document.getElementById('amount2').getAttribute('value'));
        }

        if (document.getElementById('amount3') != null) {
            value3 = parseFloat(document.getElementById('amount3').getAttribute('value'));
        }

        if (document.getElementById('amount4') != null) {
            value4 = parseFloat(document.getElementById('amount4').getAttribute('value'));
        }

        let balance = value1 + value2 + value3 + value4;
        balance = balance.toFixed(2);

        if (balance >= 0) {
            new_balance = "+" + balance;
            balance_field.style.color = '#00cb74';
        } else {
            new_balance = balance;
            balance_field.style.color = 'red';
        }

        balance_field.innerHTML = (new_balance);
    }
</script>

</html>