<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Debit Manager - Home</title>
    <meta name="description" content="Website to track your debts.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="referrer" content="same-origin">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/first_login.css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
        crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>

    <header>
        <div class="topnav">
            <div class="profile_menu">
                <a href="./profile_new.html">Magdalena Maislinger</a>
            </div>
            <div class="contacts">
                <a href="contacts_no_entry.html">Contacts</a>
            </div>
            <div class="logout">
                <a href="./index.html">Logout</a>
            </div>
        </div>
        <div class="payment">
            <div class="your_payments"><a href="./new_log_in.html"><i class="fas fa-euro-sign"></i>Your Payments</a></div>
            <form action="add_first_payment.html">
                <button class="addPayment"><a href="./add_first_payment.html">+</a></button>
            </form>

        </div>
    </header>

    <div class="content">
        <div class="top-bar">
            <form class="search">
                <i class="fas fa-search"></i>
                <label for="search">Search</label>
                <input id="searchinput" type="text">
            </form>
            <div class="balance">
                Your Balance: <span class="amount" id="amount">+50,60â‚¬</span>
            </div>
            <div class="Filter dropdown">
                Filter
                <button class="dropbtn"><i class="fas fa-caret-down"></i></button>
                <div class="dropdown-content">
                    <a href="#">By negatives</a>
                    <a href="#">By positives</a>
                </div>
            </div>
        </div>
        <div class="all_categories">
            <div class="categories">
                <div class="payment_owner">
                    <span class="payment_owner" style="text-transform: uppercase;">Name</span>
                </div>
                <div class="description">
                    <span class="description" style="text-transform: uppercase;">Description</span>
                </div>
                <div class="payment_amount">
                    <span class="payment_amount_categorie">Amount</span>
                </div>
                <div class="status">
                    <span class="status" style="text-transform: uppercase;">Status</span>
                </div>
                <div>
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>
        </div>
        <div class="first_login">
            <form action="add_first_payment.html">
                <button class="add_first_Payment"><a href="add_first_payment.html">+</a></button>
                <p>Add new Payment</p>
            </form>
        </div>
    </div>
    <footer class="footer">
        <a href="./impressum.html">Impressum</a>
    </footer>
</body>
<script>
    getBalance();

    $("#list a.clear").click(function () {

        console.log("hi");
        $(this).parent().parent().parent().remove();
        getBalance();
        return false;
    });

    function getBalance() {

        let value1 = 0;
        let value2 = 0;
        let value3 = 0;
        let balance_field = document.getElementById('amount');
        let new_balance;

        if (document.getElementById('amount1') != null) {
            value1 = parseFloat(document.getElementById('amount1').getAttribute('value'));
        }

        if (document.getElementById('amount2') != null) {
            value2 = parseFloat(document.getElementById('amount2').getAttribute('value'));
        }

        if (document.getElementById('amount3') != null) {
            value3 = parseFloat(document.getElementById('amount3').getAttribute('value'));
        }

        let balance = value1 + value2 + value3;
        balance = balance.toFixed(2);

        console.log(balance);

        if (balance >= 0) {
            new_balance = "+" + balance;
            balance_field.style.color = '#00cb74';
        } else {
            new_balance = balance;
            balance_field.style.color = 'red';
        }

        balance_field.innerHTML = (new_balance);
    }
</script>

</html>